# 常見應用程式

滲透測試的很大一部分是適應未知事物。一些測試人員可能會進行幾次掃描，但當他們沒有看到任何可直接利用的東西時就會感到沮喪。如果我們可以深入挖掘我們的掃描資料並過濾掉所有的噪音，我們通常會發現掃描器錯過的東西，例如具有弱或預設憑證的 Tomcat 實例，或者為我們提供了 SSH 金鑰或密碼的開放 Git 儲存庫，我們可以在其他地方使用這些金鑰或密碼來取得存取權。無論目標網路是否有 WordPress 和 Tomcat，或自訂支援票務系統和網路監控系統（如 Nagios），深入了解必要的方法論和思維方式都會讓您成功。確保您了解為這些應用程式留下足跡而教授的各種技術以及探索未知應用程式的好奇心。您可能會遇到此模組中未列出的應用程式。與我在介紹部分對 Nexus Repository OSS 應用程式所做的操作類似，您可以應用這些原則來尋找導致遠端程式碼執行的預設憑證和內建功能等問題。

\
話雖如此，以下是我們在評估過程中遇到的其他一些值得關注的應用程式：

| 應用                                                                          | 濫用訊息                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| --------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [軸2](https://axis.apache.org/axis2/java/core/)                              | 這可能與 Tomcat 類似，被濫用。實際上，我們經常看到它位於 Tomcat 安裝的頂部。如果我們無法透過 Tomcat 取得 RCE，那麼就值得檢查 Axis2 上是否有弱/預設管理員憑證。然後我們可以以AAR檔案（Axis2服務檔案）的形式上傳[webshel​​l](https://github.com/tennc/webshell/tree/master/other/cat.aar) 。還有一個 Metasploit[模組](https://packetstormsecurity.com/files/96224/Axis2-Upload-Exec-via-REST.html)可以協助完成此操作。                                                                                                                                                                                                                                                                                   |
| [Websphere](https://en.wikipedia.org/wiki/IBM_WebSphere_Application_Server) | 多年來，Websphere 受到許多不同的[漏洞的](https://www.cvedetails.com/vulnerability-list/vendor_id-14/product_id-576/cvssscoremin-9/cvssscoremax-/IBM-Websphere-Application-Server.html)攻擊。此外，如果我們可以使用預設憑證登入管理控制台，例如，`system:manager`我們可以部署 WAR 檔案（類似於 Tomcat）並透過 Web shell 或反向 shell 取得 RCE。                                                                                                                                                                                                                                                                                                                        |
| [Elasticsearch](https://en.wikipedia.org/wiki/Elasticsearch)                | Elasticsearch 也存在相當多的漏洞。雖然這個問題已經很老了，但我們在對一家大型企業進行評估時，曾在被遺忘的 Elasticsearch 安裝中看到過[這種情況](https://www.exploit-db.com/exploits/36337)（並在數百頁的 EyeWitness 報告輸出中發現）。雖然不太現實，但 Hack The Box 機器[Haystack](https://youtube.com/watch?v=oGO9MEIz_tI\&t=54)具有 Elasticsearch 功能。                                                                                                                                                                                                                                                                                                                                   |
| [札比克斯](https://en.wikipedia.org/wiki/Zabbix)                                | Zabbix 是一個開源系統和網路監控解決方案，已經發現了不少[漏洞，](https://www.cvedetails.com/vulnerability-list/vendor_id-5667/product_id-9588/Zabbix-Zabbix.html)例如 SQL 注入、身份驗證繞過、儲存型 XSS、LDAP 密碼洩漏和遠端程式碼執行。 Zabbix 還具有內建功能，可濫用以取得遠端程式碼執行。 HTB 盒[Zipper](https://youtube.com/watch?v=RLvFwiDK_F8\&t=250)展示如何使用 Zabbix API 來取得 RCE。                                                                                                                                                                                                                                                                                               |
| [納吉奧斯](https://en.wikipedia.org/wiki/Nagios)                                | Nagios 是另一個系統和網路監控產品。多年來，Nagios 存在著各種各樣的問題，包括遠端程式碼執行、root 權限提升、SQL 注入、程式碼注入和儲存型 XSS。如果您遇到 Nagios 實例，則值得檢查預設憑證`nagiosadmin:PASSW0RD`並對版本進行指紋識別。                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [WebLogic](https://en.wikipedia.org/wiki/Oracle_WebLogic_Server)            | WebLogic 是一個 Java EE 應用程式伺服器。在撰寫本文時，已報告 190 個[CVE](https://www.cvedetails.com/vulnerability-list/vendor_id-93/product_id-14534/Oracle-Weblogic-Server.html)。從 2007 年到 2021 年，有許多未經身份驗證的 RCE 漏洞，其中許多是 Java 反序列化漏洞。                                                                                                                                                                                                                                                                                                                                                                                    |
| 維基/內部網路                                                                     | 我們可能會遇到內部 Wiki（例如 MediaWiki）、自訂內部網路頁面、SharePoint 等。我們遇到過許多具有搜尋功能的內部網路頁面（自訂和 SharePoint），這些頁面可以發現有效的憑證。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [點網核彈](https://en.wikipedia.org/wiki/DNN_\(software\))                      | DotNetNuke (DNN) 是一個用 C# 寫的開源 CMS，使用 .NET 框架。隨著時間的推移，它出現了一些嚴重的[問題](https://www.cvedetails.com/vulnerability-list/vendor_id-2486/product_id-4306/Dotnetnuke-Dotnetnuke.html)，例如身份驗證繞過、目錄遍歷、儲存型 XSS、檔案上傳繞過和任意檔案下載。                                                                                                                                                                                                                                                                                                                                                                                     |
| [vCenter](https://en.wikipedia.org/wiki/VCenter)                            | vCenter 通常出現在大型組織中，用於管理多個 ESXi 執行個體。值得檢查弱憑證和漏洞，例如Nessus 等掃描程式無法發現的[Apache Struts 2 RCE](https://blog.gdssecurity.com/labs/2017/4/13/vmware-vcenter-unauthenticated-rce-using-cve-2017-5638-apach.html) 。該[未經身份驗證的 OVA 文件上傳](https://www.rapid7.com/db/modules/exploit/multi/http/vmware_vcenter_uploadova_rce/)漏洞於 2021 年初被披露，在該模組開發過程中發布了針對[CVE-2021-22005](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-22005)的 PoC 。 vCenter 既是 Windows 設備，也是 Linux 設備。如果我們在 Windows 裝置上取得 shell，則使用 JuicyPotato 或類似程式提升權限相對簡單。我們還看到 vCenter 已經以 SYSTEM 身份運行，甚至以網域管理員身份運行！它可以成為環境中的一大立足點，也可以成為單一的危害源頭。 |

\
